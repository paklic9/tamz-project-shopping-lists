(this.webpackJsonpzam0051_projekt=this.webpackJsonpzam0051_projekt||[]).push([[0],{67:function(e,t,n){e.exports=n(87)},72:function(e,t,n){},73:function(e,t,n){},82:function(e,t,n){e.exports=n.p+"static/media/pop.627c0e8b.mp3"},83:function(e,t,n){e.exports=n.p+"static/media/RecycleBin.129d4ba1.mp3"},87:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(9),o=n.n(c),i=(n(72),n(73),n(74),n(39)),r=n(23),s=n(94),m=n(92),d=n(59),u=n(40),p=n(18),E=n(21),g=n(97),f=n(100),y=n(101),v=n(99),h=n(98),b=n(93),k=n(61),I=n(96),w=n(95),S=function(e){return function(t){return e(t.target.value)}},N=function(e){return{payload:e,type:"SET_LISTS"}},C=function(e){return{type:"SET_NEW_ITEM_BUTTON_VISIBILITY",payload:e}},O=function(){var e=Object(E.b)(),t=Object(E.c)((function(e){return e.lists})),n=t.map((function(e,t){return e.name})),l=a.useCallback((function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(localStorage.length>0&&!t){for(var n=[],a=0;a<localStorage.length;a++){var l=localStorage.key(a),c=JSON.parse(localStorage.getItem(l));n.push(c)}n.sort((function(e,t){return+new Date(e.date).getTime()-+new Date(t.date).getTime()})),e(N(n))}else 0===localStorage.length&&t&&e(N([]))}),[e]);return a.useEffect((function(){0===t.length&&l()}),[l,t]),{refetchLists:l,lists:t,listsNames:n}},T=n(24),x=n(25),j=n(82),B=n(83),A=function(){var e=Object(E.b)(),t=a.useState(!1),n=Object(p.a)(t,2),l=n[0],c=n[1],o=a.useState(null),i=Object(p.a)(o,2),r=i[0],s=i[1],N=a.useState(!1),A=Object(p.a)(N,2),J=A[0],L=A[1],W=a.useState(!1),_=Object(p.a)(W,2),D=_[0],F=_[1],R=a.useState(null),U=Object(p.a)(R,2),V=U[0],z=U[1],P=a.useState(""),Y=Object(p.a)(P,2),H=Y[0],M=Y[1],G=a.useState(""),K=Object(p.a)(G,2),Z=K[0],$=K[1],q=a.useState(!1),Q=Object(p.a)(q,2),X=Q[0],ee=Q[1],te=O(),ne=te.refetchLists,ae=te.lists,le=Object(E.c)((function(e){return e.newItemButtonVisibility})),ce=new Audio(j),oe=new Audio(B);window.addEventListener("load",(function(){!function(){for(var e=document.getElementsByTagName("button"),t=document.getElementsByTagName("svg"),n=0;n<e.length;n++)e[n].addEventListener("click",(function(){return ce.play()}));for(var a=0;a<t.length;a++)t[a].addEventListener("click",(function(){return ce.play()}))}()}));var ie=a.useCallback((function(){l&&(document.getElementById("priority").checked=!1,document.getElementById("text").value="",c(!1)),$(""),ee(!1),s(null)}),[l]),re=a.useCallback((function(e){localStorage.clear(),ne(e)}),[ne]),se=function(){L(!1),F(!1),M("")},me=a.useCallback((function(){V&&(localStorage.removeItem(V.key),z(null),e(C(!1)),0===localStorage.length?ne(!0):ne())}),[V,ne,e]),de=a.useCallback((function(){var e=new Date,t=H+e.getTime(),n={key:t,name:H,detail:[],date:new Date},a=JSON.stringify(n);localStorage.setItem(t,a),se(),ne()}),[H,ne]),ue=a.useCallback((function(){if(V){var t=JSON.parse(localStorage.getItem(V.key));t.name=H,t.date=new Date;var n=JSON.stringify(t);localStorage.setItem(V.key,n),z(null),e(C(!1)),se(),ne()}}),[V,ne,H,e]),pe=a.useCallback((function(e){var t=JSON.parse(localStorage.getItem(e)),n={id:t.detail.length>0?t.detail[t.detail.length-1].id+1:1,text:Z,priority:X,date:new Date};t.detail.push(n);var a=JSON.stringify(t);localStorage.setItem(t.key,a),ie(),ne()}),[ie,Z,X,ne]),Ee=a.useCallback((function(e,t){var n=JSON.parse(localStorage.getItem(e));n.detail.splice(n.detail.findIndex((function(e){return e.id===t})),1);var a=JSON.stringify(n);localStorage.setItem(n.key,a),ne()}),[ne]),ge=a.useCallback((function(e,t){console.log("aaaa"),s(null);var n=JSON.parse(localStorage.getItem(e)),a={id:t.id,text:Z,priority:X,date:new Date};n.detail[t.id-1]=Object(u.a)({},a);var l=JSON.stringify(n);localStorage.setItem(n.key,l),ie(),ne()}),[Z,X,ne,ie]),fe=a.useCallback((function(){var e=document.createElement("a"),t=new Blob([JSON.stringify(ae)],{type:"application/json"});e.href=URL.createObjectURL(t),e.download="lists.json",document.body.appendChild(e),e.click()}),[ae]),ye=a.useCallback((function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(e){e.target&&(JSON.parse(e.target.result).forEach((function(e,t){var n=new Date,a=e.name+n.getTime()+t,l={key:a,name:e.name,detail:e.detail},c=JSON.stringify(l);localStorage.setItem(a,c)})),ne())},n.readAsText(t)}document.getElementById("importFile").value=""}),[ne]),ve=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return a.createElement(g.a,{rootClose:!0,trigger:"click",key:"top",placement:"top",overlay:a.createElement(f.a,{id:"popover-positioned-top"},a.createElement(f.a.Title,{as:"h3"},"Are you sure?"),a.createElement(f.a.Content,null,a.createElement(y.a,{onClick:function(){oe.play(),document.body.click(),1===t?re(!0):2===t?me():3===t&&Ee(n,l)}},"Yes")," ",a.createElement(y.a,{onClick:function(){ce.play(),document.body.click()}},"No")))},e)};return a.createElement(a.Fragment,null,ae.length>0?a.createElement(m.a,null,a.createElement(d.a,null,a.createElement(v.a.Container,{id:"list-group-tabs-example"},a.createElement(m.a,null,a.createElement(d.a,{xs:4,style:{minWidth:"125pt"}},a.createElement("h2",{className:"listsTitle"},"Lists:"),a.createElement(h.a,{style:{marginTop:"5pt"}},ae.map((function(t,n){return a.createElement(h.a.Item,{className:"lists",onClick:function(){ce.play(),ie(),z(t),e(C(!0))},href:t.name+n,key:t.name+n},t.name)})))),a.createElement(d.a,{xs:8},a.createElement(v.a.Content,null,le&&a.createElement("div",{className:"buttonAndTitleWrapper"},a.createElement("h2",{className:"itemsTitle"},"Items in ",null===V||void 0===V?void 0:V.name,":"),a.createElement(y.a,{className:"addNewItemButton",disabled:!(!(null===r||void 0===r?void 0:r.editingItem)&&!l),onClick:function(){ce.play(),c(!0)}},"Add new item")),ae.map((function(e,t){return a.createElement(v.a.Pane,{key:"list"+t,eventKey:e.name+t},a.createElement(b.a,{bordered:!0,hover:!0,size:"sm",className:"table"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{className:"id"},"id"),a.createElement("th",{className:"text"},"Text"),a.createElement("th",{className:"priority"},"Priority"),a.createElement("th",{className:"actions"},"Actions"))),a.createElement("tbody",null,e.detail.map((function(t,n){return a.createElement("tr",{key:"detal"+n,style:t.priority?{backgroundColor:"rgb(190,0,0)",color:"white"}:{backgroundColor:"white"}},a.createElement("td",{className:"textCentered"},t.id),a.createElement("td",null,(null===r||void 0===r?void 0:r.editingItemId)===t.id?a.createElement(k.a,{as:"textarea",value:Z,onChange:S($)}):t.text),a.createElement("td",{className:"textCentered"},(null===r||void 0===r?void 0:r.editingItemId)===t.id?a.createElement(I.a.Check,{checked:X,className:"priorityCheckbox",type:"checkbox",id:"priority"+new Date(t.date).getTime(),onChange:function(){ce.play(),ee(document.getElementById("priority"+new Date(t.date).getTime()).checked)}}):t.priority?"True":"False"),a.createElement("td",null,a.createElement("div",{className:"sapceBetween"},a.createElement("span",{className:"".concat(l||(null===r||void 0===r?void 0:r.editingItem)&&r.editingItemId!==t.id?"disabledWrapper":"")},(null===r||void 0===r?void 0:r.editingItemId)===t.id?a.createElement(T.a,{icon:x.a,className:"controlIcon",onClick:function(){ce.play(),ge(e.key,t)}}):a.createElement(T.a,{icon:x.d,className:"controlIcon ".concat((l||(null===r||void 0===r?void 0:r.editingItem)&&r.editingItemId!==t.id)&&"disabled"),onClick:function(){ce.play(),s({editingItem:!0,editingItemId:t.id}),$(t.text),ee(t.priority)}})),a.createElement("span",{className:"".concat(l||r&&r.editingItem?"disabledWrapper":"")},ve(a.createElement(T.a,{icon:x.g,className:"controlIcon ".concat((l||r&&r.editingItem)&&"disabled"),onClick:function(){return ce.play()}}),3,e.key,t.id)))))})),l?a.createElement("tr",null,a.createElement("td",{className:"textCentered"},e.detail.length>0?e.detail[e.detail.length-1].id+1:1),a.createElement("td",null,a.createElement(k.a,{id:"text",as:"textarea",onChange:S($)})),a.createElement("td",null,a.createElement(I.a.Check,{className:"priorityCheckbox",type:"checkbox",id:"priority",onChange:function(){ce.play(),ee(document.getElementById("priority").checked)}})),a.createElement("td",{className:"sapceBetween"},a.createElement(T.a,{icon:x.e,className:"controlIcon",onClick:function(){ce.play(),pe(e.key)}}),a.createElement(T.a,{icon:x.f,className:"controlIcon",onClick:function(){ce.play(),ie()}}))):void 0)))})))))))):void 0,a.createElement(m.a,{className:"controls"},a.createElement(d.a,null,a.createElement(w.a,{show:J||D,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:function(){return se()}},a.createElement(w.a.Header,{closeButton:!0},a.createElement(w.a.Title,{id:"contained-modal-title-vcenter"},D?"Edit list":"Add new list")),a.createElement(w.a.Body,null,a.createElement(I.a.Group,{controlId:"exampleForm.ControlInput1"},a.createElement(I.a.Label,null,"Name"),a.createElement(I.a.Control,{size:"sm",type:"text",placeholder:"Enter list name",value:H,onChange:S(M)}))),a.createElement(w.a.Footer,null,a.createElement(y.a,{onClick:function(){ce.play(),D?ue():de()}},D?"Save":"Add"),a.createElement(y.a,{onClick:function(){se(),ce.play()}},"Close"))),a.createElement(y.a,{onClick:function(){return L(!0)}},"Add new list"),a.createElement("br",null),a.createElement(y.a,{disabled:!V,onClick:function(){F(!0),M(V?V.name:"")}},"Edit selected list name"),a.createElement("br",null),ve(a.createElement(y.a,{disabled:!V},"Remove selected list"),2),a.createElement("br",null),ve(a.createElement(y.a,{disabled:0===ae.length},"Remove all lists"),1),a.createElement("br",null),a.createElement(y.a,{disabled:0===ae.length,onClick:function(){return fe()}},a.createElement(T.a,{icon:x.b})," Export lists"),a.createElement("br",null),a.createElement("span",null,a.createElement("label",{htmlFor:"importFile",className:"importFile btn btn-primary",onClick:function(){return ce.play()}},a.createElement(T.a,{icon:x.c})," Import lists"),a.createElement("input",{type:"file",id:"importFile",accept:".json",onChange:function(e){return ye(e)}})))))},J=function(){var e=Object(r.f)().push;return a.createElement(s.a,{fluid:!0},a.createElement(m.a,{className:"header"},a.createElement(d.a,null,a.createElement("span",{className:"title",onClick:function(){return e("/")}},"Shopping lists"))),a.createElement(m.a,{className:"content"},a.createElement(d.a,null,a.createElement(r.c,null,a.createElement(i.a,{basename:window.location.pathname||""},a.createElement(r.a,{exact:!0,path:"/",component:A}))))),a.createElement(m.a,{className:"footer"},a.createElement(d.a,null,a.createElement("div",null,"Created by Vojt\u011bch Z\xe1me\u010dn\xedk"),a.createElement("div",null,a.createElement(i.b,{to:"/about"},"About web")))))};var L=function(){return l.a.createElement(i.a,null,l.a.createElement(J,null))},W=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var D=n(34),F={lists:[],newItemButtonVisibility:!1},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LISTS":return Object(u.a)({},e,{lists:t.payload});case"SET_NEW_ITEM_BUTTON_VISIBILITY":return Object(u.a)({},e,{newItemButtonVisibility:t.payload});default:return e}},U=n(64),V=Object(D.createStore)(R,Object(U.composeWithDevTools)());o.a.render(l.a.createElement(E.a,{store:V},l.a.createElement(L,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");W?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):_(t,e)}))}}()}},[[67,1,2]]]);
//# sourceMappingURL=main.d767711c.chunk.js.map