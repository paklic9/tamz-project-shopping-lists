(this.webpackJsonpzam0051_projekt=this.webpackJsonpzam0051_projekt||[]).push([[0],{67:function(e,t,n){e.exports=n(87)},72:function(e,t,n){},73:function(e,t,n){},82:function(e,t,n){e.exports=n.p+"static/media/pop.627c0e8b.mp3"},83:function(e,t,n){e.exports=n.p+"static/media/RecycleBin.129d4ba1.mp3"},87:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(9),o=n.n(c),r=(n(72),n(73),n(74),n(35)),i=n(23),s=n(94),m=n(92),u=n(60),d=n(40),p=n(18),E=n(21),f=n(97),g=n(100),h=n(101),v=n(99),b=n(98),y=n(93),k=n(62),I=n(96),w=n(95),C=function(e){return function(t){return e(t.target.value)}},N=function(e){return{payload:e,type:"SET_LISTS"}},S=function(e){return{type:"SET_NEW_ITEM_BUTTON_VISIBILITY",payload:e}},O=function(){var e=Object(E.b)(),t=Object(E.c)((function(e){return e.lists})),n=t.map((function(e,t){return e.name})),l=a.useCallback((function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(localStorage.length>0&&!t){for(var n=[],a=0;a<localStorage.length;a++){var l=localStorage.key(a),c=JSON.parse(localStorage.getItem(l));n.push(c)}n.sort((function(e,t){return+new Date(e.date).getTime()-+new Date(t.date).getTime()})),e(N(n))}else 0===localStorage.length&&t&&e(N([]))}),[e]);return a.useEffect((function(){0===t.length&&l()}),[l,t]),{refetchLists:l,lists:t,listsNames:n}},T=n(24),j=n(25),x=n(82),B=n(83),A=function(){var e=Object(E.b)(),t=a.useState(!1),n=Object(p.a)(t,2),l=n[0],c=n[1],o=a.useState(null),r=Object(p.a)(o,2),i=r[0],s=r[1],N=a.useState(!1),A=Object(p.a)(N,2),J=A[0],L=A[1],W=a.useState(!1),_=Object(p.a)(W,2),D=_[0],z=_[1],F=a.useState(null),R=Object(p.a)(F,2),U=R[0],V=R[1],P=a.useState(""),H=Object(p.a)(P,2),M=H[0],Y=H[1],Z=a.useState(""),q=Object(p.a)(Z,2),G=q[0],K=q[1],$=a.useState(!1),Q=Object(p.a)($,2),X=Q[0],ee=Q[1],te=O(),ne=te.refetchLists,ae=te.lists,le=Object(E.c)((function(e){return e.newItemButtonVisibility})),ce=new Audio(x),oe=new Audio(B);window.addEventListener("load",(function(){!function(){for(var e=document.getElementsByTagName("button"),t=document.getElementsByTagName("svg"),n=0;n<e.length;n++)e[n].addEventListener("click",(function(){return ce.play()}));for(var a=0;a<t.length;a++)t[a].addEventListener("click",(function(){return ce.play()}))}()}));var re=a.useCallback((function(){l&&(document.getElementById("priority").checked=!1,document.getElementById("text").value="",c(!1)),K(""),ee(!1),s(null)}),[l]),ie=a.useCallback((function(e){localStorage.clear(),ne(e)}),[ne]),se=function(){L(!1),z(!1),Y("")},me=a.useCallback((function(){U&&(localStorage.removeItem(U.key),V(null),e(S(!1)),0===localStorage.length?ne(!0):ne())}),[U,ne,e]),ue=a.useCallback((function(){var e=new Date,t=M+e.getTime(),n={key:t,name:M,detail:[],date:new Date},a=JSON.stringify(n);localStorage.setItem(t,a),se(),ne()}),[M,ne]),de=a.useCallback((function(){if(U){var t=JSON.parse(localStorage.getItem(U.key));t.name=M,t.date=new Date;var n=JSON.stringify(t);localStorage.setItem(U.key,n),V(null),e(S(!1)),se(),ne()}}),[U,ne,M,e]),pe=a.useCallback((function(e){var t=JSON.parse(localStorage.getItem(e)),n={id:t.detail.length>0?t.detail[t.detail.length-1].id+1:1,text:G,priority:X,date:new Date};t.detail.push(n);var a=JSON.stringify(t);localStorage.setItem(t.key,a),re(),ne()}),[re,G,X,ne]),Ee=a.useCallback((function(e,t){var n=JSON.parse(localStorage.getItem(e));n.detail.splice(n.detail.findIndex((function(e){return e.id===t})),1);var a=JSON.stringify(n);localStorage.setItem(n.key,a),ne()}),[ne]),fe=a.useCallback((function(e,t){console.log("aaaa"),s(null);var n=JSON.parse(localStorage.getItem(e)),a={id:t.id,text:G,priority:X,date:new Date};n.detail[t.id-1]=Object(d.a)({},a);var l=JSON.stringify(n);localStorage.setItem(n.key,l),re(),ne()}),[G,X,ne,re]),ge=a.useCallback((function(){var e=document.createElement("a"),t=new Blob([JSON.stringify(ae)],{type:"application/json"});e.href=URL.createObjectURL(t),e.download="lists.json",document.body.appendChild(e),e.click()}),[ae]),he=a.useCallback((function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(e){e.target&&(JSON.parse(e.target.result).forEach((function(e,t){var n=new Date,a=e.name+n.getTime()+t,l={key:a,name:e.name,detail:e.detail},c=JSON.stringify(l);localStorage.setItem(a,c)})),ne())},n.readAsText(t)}document.getElementById("importFile").value=""}),[ne]),ve=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return a.createElement(f.a,{rootClose:!0,trigger:"click",key:"top",placement:"top",overlay:a.createElement(g.a,{id:"popover-positioned-top"},a.createElement(g.a.Title,{as:"h3"},"Are you sure?"),a.createElement(g.a.Content,null,a.createElement(h.a,{onClick:function(){oe.play(),document.body.click(),1===t?ie(!0):2===t?me():3===t&&Ee(n,l)}},"Yes")," ",a.createElement(h.a,{onClick:function(){ce.play(),document.body.click()}},"No")))},e)};return a.createElement(a.Fragment,null,ae.length>0?a.createElement(m.a,null,a.createElement(u.a,null,a.createElement(v.a.Container,{id:"list-group-tabs-example"},a.createElement(m.a,null,a.createElement(u.a,{xs:4,style:{minWidth:"125pt"}},a.createElement("h2",{className:"listsTitle"},"Lists:"),a.createElement(b.a,{style:{marginTop:"5pt"}},ae.map((function(t,n){return a.createElement(b.a.Item,{className:"lists",onClick:function(){ce.play(),re(),V(t),e(S(!0))},href:t.name+n,key:t.name+n},t.name)})))),a.createElement(u.a,{xs:8},a.createElement(v.a.Content,null,le&&a.createElement("div",{className:"buttonAndTitleWrapper"},a.createElement("h2",{className:"itemsTitle"},"Items in ",null===U||void 0===U?void 0:U.name,":"),a.createElement(h.a,{className:"addNewItemButton",disabled:!(!(null===i||void 0===i?void 0:i.editingItem)&&!l),onClick:function(){ce.play(),c(!0)}},"Add new item")),ae.map((function(e,t){return a.createElement(v.a.Pane,{key:"list"+t,eventKey:e.name+t},a.createElement(y.a,{bordered:!0,hover:!0,size:"sm",className:"table"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{className:"id"},"id"),a.createElement("th",{className:"text"},"Text"),a.createElement("th",{className:"priority"},"Priority"),a.createElement("th",{className:"actions"},"Actions"))),a.createElement("tbody",null,e.detail.map((function(t,n){return a.createElement("tr",{key:"detal"+n,style:t.priority?{backgroundColor:"rgb(190,0,0)",color:"white"}:{backgroundColor:"white"}},a.createElement("td",{className:"textCentered"},t.id),a.createElement("td",null,(null===i||void 0===i?void 0:i.editingItemId)===t.id?a.createElement(k.a,{as:"textarea",value:G,onChange:C(K)}):t.text),a.createElement("td",{className:"textCentered"},(null===i||void 0===i?void 0:i.editingItemId)===t.id?a.createElement(I.a.Check,{checked:X,className:"priorityCheckbox",type:"checkbox",id:"priority"+new Date(t.date).getTime(),onChange:function(){ce.play(),ee(document.getElementById("priority"+new Date(t.date).getTime()).checked)}}):t.priority?"True":"False"),a.createElement("td",null,a.createElement("div",{className:"sapceBetween"},a.createElement("span",{className:"".concat(l||(null===i||void 0===i?void 0:i.editingItem)&&i.editingItemId!==t.id?"disabledWrapper":"")},(null===i||void 0===i?void 0:i.editingItemId)===t.id?a.createElement(T.a,{icon:j.a,className:"controlIcon",onClick:function(){ce.play(),fe(e.key,t)}}):a.createElement(T.a,{icon:j.d,className:"controlIcon ".concat((l||(null===i||void 0===i?void 0:i.editingItem)&&i.editingItemId!==t.id)&&"disabled"),onClick:function(){ce.play(),s({editingItem:!0,editingItemId:t.id}),K(t.text),ee(t.priority)}})),a.createElement("span",{className:"".concat(l||i&&i.editingItem?"disabledWrapper":"")},ve(a.createElement(T.a,{icon:j.g,className:"controlIcon ".concat((l||i&&i.editingItem)&&"disabled"),onClick:function(){return ce.play()}}),3,e.key,t.id)))))})),l?a.createElement("tr",null,a.createElement("td",{className:"textCentered"},e.detail.length>0?e.detail[e.detail.length-1].id+1:1),a.createElement("td",null,a.createElement(k.a,{id:"text",as:"textarea",onChange:C(K)})),a.createElement("td",null,a.createElement(I.a.Check,{className:"priorityCheckbox",type:"checkbox",id:"priority",onChange:function(){ce.play(),ee(document.getElementById("priority").checked)}})),a.createElement("td",{className:"sapceBetween"},a.createElement(T.a,{icon:j.e,className:"controlIcon",onClick:function(){ce.play(),pe(e.key)}}),a.createElement(T.a,{icon:j.f,className:"controlIcon",onClick:function(){ce.play(),re()}}))):void 0)))})))))))):void 0,a.createElement(m.a,{className:"controls"},a.createElement(u.a,null,a.createElement(w.a,{show:J||D,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:function(){return se()}},a.createElement(w.a.Header,{closeButton:!0},a.createElement(w.a.Title,{id:"contained-modal-title-vcenter"},D?"Edit list":"Add new list")),a.createElement(w.a.Body,null,a.createElement(I.a.Group,{controlId:"exampleForm.ControlInput1"},a.createElement(I.a.Label,null,"Name"),a.createElement(I.a.Control,{size:"sm",type:"text",placeholder:"Enter list name",value:M,onChange:C(Y)}))),a.createElement(w.a.Footer,null,a.createElement(h.a,{onClick:function(){ce.play(),D?de():ue()}},D?"Save":"Add"),a.createElement(h.a,{onClick:function(){se(),ce.play()}},"Close"))),a.createElement(h.a,{onClick:function(){return L(!0)}},"Add new list"),a.createElement("br",null),a.createElement(h.a,{disabled:!U,onClick:function(){z(!0),Y(U?U.name:"")}},"Edit selected list name"),a.createElement("br",null),ve(a.createElement(h.a,{disabled:!U},"Remove selected list"),2),a.createElement("br",null),ve(a.createElement(h.a,{disabled:0===ae.length},"Remove all lists"),1),a.createElement("br",null),a.createElement(h.a,{disabled:0===ae.length,onClick:function(){return ge()}},a.createElement(T.a,{icon:j.b})," Export lists"),a.createElement("br",null),a.createElement("span",null,a.createElement("label",{htmlFor:"importFile",className:"importFile btn btn-primary",onClick:function(){return ce.play()}},a.createElement(T.a,{icon:j.c})," Import lists"),a.createElement("input",{type:"file",id:"importFile",accept:".json",onChange:function(e){return he(e)}})))))},J=function(){var e=Object(i.g)().push;return a.createElement("div",{className:"aboutPage"},a.createElement(m.a,null,a.createElement(u.a,null,"This app was created by student Vojt\u011bch Z\xe1me\u010dn\xedk in the subject TAMZ 1 (Creating applications for mobile devices) in the second year of studies.")),a.createElement(m.a,null,a.createElement(u.a,null,"If you have any question, feel free to contact me on email: ",a.createElement("a",{href:"mailto: vojtech.zamecnik.st@vsb.cz"},"vojtech.zamecnik.st@vsb.cz"))),a.createElement(m.a,null,a.createElement(u.a,null,a.createElement(h.a,{onClick:function(){return e("/")}},"Back to Home Page"))))},L=function(){var e=Object(i.g)().push;return a.createElement(s.a,{fluid:!0},a.createElement(m.a,{className:"header"},a.createElement(u.a,null,a.createElement("span",{className:"title",onClick:function(){return e("/")}},"Shopping lists"))),a.createElement(m.a,{className:"content"},a.createElement(u.a,null,a.createElement(i.d,null,a.createElement(i.b,{exact:!0,path:"/tamz-project-shopping-lists/",render:function(){return a.createElement(i.a,{to:"/"})}}),a.createElement(i.b,{path:"/about",component:J}),a.createElement(i.b,{path:"/",component:A})))),a.createElement(m.a,{className:"footer"},a.createElement(u.a,null,a.createElement("div",null,"Created by Vojt\u011bch Z\xe1me\u010dn\xedk"),a.createElement("div",null,a.createElement(r.b,{to:"/about"},"About web")))))};var W=function(){return l.a.createElement(r.a,null,l.a.createElement(L,null))},_=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var z=n(34),F={lists:[],newItemButtonVisibility:!1},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LISTS":return Object(d.a)({},e,{lists:t.payload});case"SET_NEW_ITEM_BUTTON_VISIBILITY":return Object(d.a)({},e,{newItemButtonVisibility:t.payload});default:return e}},U=n(65),V=Object(z.createStore)(R,Object(U.composeWithDevTools)());o.a.render(l.a.createElement(E.a,{store:V},l.a.createElement(W,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");_?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):D(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):D(t,e)}))}}()}},[[67,1,2]]]);
//# sourceMappingURL=main.4283c3c4.chunk.js.map